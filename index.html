<!DOCTYPE html>
<html>
<head>
<title>Tavern MUD</title>
<style>
body {
  background-color: black;
  color: white;
  font-family: monospace;
}

.output {
  overflow-y: scroll;
  padding: 10px;
  margin: 10px;
  border: 1px solid black;
  height: 300px;
}

.input {
  width: 200px;
  position: fixed;
  bottom: 0;
  left: 0;
}
</style>
</head>
<body>
<h1>Tavern MUD</h1>
<p id="output"></p>
<input type="text" class="input" id="input">
<button onclick="doAction()">Do it!</button>
</body>
<script>
var world = {
  rooms: [
    {
      name: "Tavern",
      description: "You are in a tavern. There are tables and chairs, and a bar in the center of the room. There is a door to the north."
    },
    {
      name: "Kitchen",
      description: "The kitchen is a busy place. Cooks are bustling around, preparing food for the hungry patrons."
    },
    {
      name: "Garden",
      description: "The garden is a peaceful place. There are flowers blooming, and birds singing in the trees."
    }
  ],
  characters: [],
  objects: [
    {
      name: "Chair",
      description: "A sturdy-looking chair."
    },
    {
      name: "Table",
      description: "A wooden table with four chairs."
    },
    {
      name: "Bar",
      description: "A long wooden bar with a variety of drinks on display."
    }
  ],
  players: []
};

function doAction() {
  var input = document.getElementById("input").value;
  var room = world.rooms[0];
  var description = room.description;
  var character = world.characters[0];
  var object = world.objects[0];

  if (input === "north") {
    document.getElementById("output").innerHTML += "You move north. There is a door to the east.\n";
  } else if (input === "talk to bartender") {
    document.getElementById("output").innerHTML += character.description + "\n";
  } else if (input === "sit in chair") {
    document.getElementById("output").innerHTML += object.description + "\n";
  } else if (input === "drink from bar") {
    document.getElementById("output").innerHTML += "You take a drink from the bar. It's delicious!\n";
  } else if (input === "join") {
    var name = prompt("What is your name?");
    world.players.push({name: name});
    document.getElementById("output").innerHTML += "Welcome to the tavern, " + name + "!\n";
  } else if (input === "say") {
    var message = prompt("What do you want to say?");
    for (var player of world.players) {
      if (player.room === room) {
        player.output.innerHTML += name + " says: " + message + "\n";
      }
    }
  } else if (input === "move") {
    var direction = prompt("Which direction do you want to move?");
    if (direction === "north") {
      var newRoom = world.rooms[1];
      for (var player of world.players) {
        player.room = newRoom;
        player.output.innerHTML += "You move north.\n";
      }
    }
  } else {
    document.getElementById("output").innerHTML += "I don't understand that command.\n";
  }
}
</script>
</html>